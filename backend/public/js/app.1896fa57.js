(function(t){function e(e){for(var s,a,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},i={app:0},r=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0a2c":function(t,e,n){"use strict";n("241b")},"0c55":function(t,e,n){},"241b":function(t,e,n){},"281f":function(t,e,n){t.exports=n.p+"img/loader.56953f46.svg"},"3ed1":function(t,e,n){},"3fac":function(t,e,n){},"41ec":function(t,e,n){"use strict";n("f309")},"54c2":function(t,e,n){"use strict";n("b6ba")},"55bd":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.isViewMode?t._e():n("app-header",{on:{openSignupModal:function(e){t.showModal=!0}}}),n("router-view"),t.showModal?n("sign-up",{on:{closeSignupModal:function(e){t.showModal=!1}}}):t._e(),n("user-msg")],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app-header flex space-between"},[n("div",{staticClass:"logo place-center flex",on:{click:t.pushHome}},[n("i",{staticClass:"fas fa-hammer fa-2x"}),t._v("Web"),n("span",{staticClass:"logo-span"},[t._v("craft")])]),n("nav",{staticClass:"nav-links flex align-center"},[n("router-link",{attrs:{to:"/",exact:""}},[t._v("Home")]),n("router-link",{attrs:{to:"/wap",exact:""}},[t._v("Templates")]),n("router-link",{attrs:{to:"/editor",exact:""}},[t._v("Editor")]),t.loggedInUser?t._e():n("a",{staticClass:"cursor",on:{click:t.showSignup}},[t._v("Login")]),t.loggedInUser?n("avatar",{attrs:{username:t.loggedInUser.username,imgUrl:t.loggedInUser.imgUrl,size:40,color:"#124a76"},nativeOn:{click:function(e){return t.toggleModal(e)}}}):t._e()],1),n("div",{staticClass:"hamburger flex-center column btn",on:{click:t.toggleMenu}},[n("div",{staticClass:"bar1"}),n("div",{staticClass:"bar2"}),n("div",{staticClass:"bar3"})]),t.showModal?n("avatar-modal",{attrs:{loggedInUser:t.loggedInUser},on:{closeModal:function(e){t.showModal=!1}}}):t._e()],1)},o=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar",style:{width:t.size+"px",height:t.size+"px",backgroundColor:t.imgUrl?"":t.color,lineHeight:t.size+"px"}},[t.username&&!t.imgUrl?n("span",[t._v(t._s(t.computeName)+" ")]):n("img",{attrs:{src:t.imgUrl}})])},l=[],u=(n("a15b"),n("d81d"),n("a9e3"),n("ac1f"),n("1276"),{name:"avatar",props:{username:{type:String},imgUrl:{type:String},size:{type:Number},color:{type:String}},computed:{computeName:function(){return this.username.split(" ").map((function(t){return t.charAt(0)})).join("").toUpperCase()}},created:function(){}}),p=u,d=(n("be72"),n("2877")),m=Object(d["a"])(p,c,l,!1,null,null,null),f=m.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loggedInUser?n("section",{staticClass:"avatar-modal flex column align-center"},[n("div",{staticClass:"info flex column align-center"},[n("avatar",{attrs:{username:t.loggedInUser.username,imgUrl:t.loggedInUser.imgUrl,size:65,color:"#124a76"}}),n("h3",[t._v(t._s(t.loggedInUser.username))]),n("span",[t._v(t._s(t.loggedInUser.email))])],1),n("div",{staticClass:"seperator"}),n("section",{staticClass:"modal-links flex column"},[n("span",{staticClass:"profile-btn",on:{click:t.pushProfile}},[n("i",{staticClass:"fas fa-user"}),t._v(" Profile")]),t.loggedInUser?n("span",{staticClass:"profile-btn",on:{click:t.logout}},[n("i",{staticClass:"fas fa-times-circle"}),t._v(" Logout")]):t._e()])]):t._e()},g=[],v={name:"avatar-modal",props:{loggedInUser:Object},components:{avatar:f},methods:{logout:function(){this.$store.dispatch({type:"logout"}),this.$emit("closeModal"),this.$router.push("/").catch((function(){}))},pushProfile:function(){this.$emit("closeModal"),this.$router.push("/user/".concat(this.loggedInUser._id))}}},b=v,C=Object(d["a"])(b,h,g,!1,null,null,null),w=C.exports,y={name:"app-header",data:function(){return{showModal:!1}},methods:{toggleModal:function(){this.showModal=!this.showModal},pushHome:function(){this.$router.push("/")},showSignup:function(){this.$emit("openSignupModal")},toggleMenu:function(){document.body.classList.toggle("open-menu")}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},destroyed:function(){document.body.classList.remove("open-menu")},components:{avatar:f,avatarModal:w}},_=y,k=Object(d["a"])(_,a,o,!1,null,null,null),x=k.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"container flex align-center justify-center"},[s("div",{staticClass:"flex align-center justify-center screen",on:{click:t.closeModal}}),s("section",{staticClass:"signup-modal"},[s("div",{staticClass:"forms-container flex"},[s("div",{staticClass:"signin-signup"},[s("h2",{staticClass:"title"},[t._v(t._s(t.modalHeader))]),s("form",{staticClass:"flex column align-center",on:{submit:function(e){return e.preventDefault(),t.modalAction(e)}}},[t.isSignup?s("div",{staticClass:"form-control"},[s("span",{staticClass:"fas fa-user"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{type:"text",placeholder:"Enter Username",required:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]):t._e(),s("div",{staticClass:"form-control"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"email",placeholder:"Enter Email",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),s("div",{staticClass:"form-control"},[s("span",{staticClass:"cursor fas fa-lock",on:{click:t.toggleFieldType}}),"checkbox"===t.passwordType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",required:"",type:"checkbox"},domProps:{checked:Array.isArray(t.user.password)?t._i(t.user.password,null)>-1:t.user.password},on:{change:function(e){var n=t.user.password,s=e.target,i=!!s.checked;if(Array.isArray(n)){var r=null,a=t._i(n,r);s.checked?a<0&&t.$set(t.user,"password",n.concat([r])):a>-1&&t.$set(t.user,"password",n.slice(0,a).concat(n.slice(a+1)))}else t.$set(t.user,"password",i)}}}):"radio"===t.passwordType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",required:"",type:"radio"},domProps:{checked:t._q(t.user.password,null)},on:{change:function(e){return t.$set(t.user,"password",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",required:"",type:t.passwordType},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),s("button",{staticClass:"btn signup"},[t._v(t._s(t.modalHeader))])]),s("a",{staticClass:"btn toggle-modal-btn",on:{click:t.toggleModalMode}},[t._v(t._s(t.link))])]),s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{xmlns:"http://www.w3.org/2000/svg",d:"M306.5 -31.4999L882 -31.4998C999 -31.4997 999 -151.22 999 -10V480.5V1082.5C999 1347.06 553.889 1094.34 212.5 932.5C-67.0003 800 -42.9294 593.465 125.001 266C285 -45.9997 206.667 -14.9999 306.5 -31.4999Z",fill:"#04befe"}}),s("defs",[s("linearGradient",{attrs:{id:"paint0_linear",x1:"1038.17",y1:"-8.72305",x2:"223.672",y2:"689.277",gradientUnits:"userSpaceOnUse"}},[s("stop",{attrs:{"stop-color":"#38D39F"}}),s("stop",{attrs:{offset:"1","stop-color":"#38A4D3"}})],1)],1)]),s("img",{staticClass:"svg-img",attrs:{src:n("af84")}})]),s("button",{staticClass:"btn close-btn",on:{click:t.closeModal}},[s("i",{staticClass:"fas fa-times"})])])])},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fas fa-envelope"})])}],E=(n("96cf"),n("1da1")),$=(n("99af"),n("bc3a")),I=n.n($),O="/api/",U=I.a.create({withCredentials:!0}),M={get:function(t,e){return W(t,"GET",e)},post:function(t,e){return W(t,"POST",e)},put:function(t,e){return W(t,"PUT",e)},delete:function(t,e){return W(t,"DELETE",e)}};function W(t){return j.apply(this,arguments)}function j(){return j=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n,s,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",s=r.length>2&&void 0!==r[2]?r[2]:null,t.prev=2,t.next=5,U({url:"".concat(O).concat(e),method:n,data:s});case 5:return i=t.sent,t.abrupt("return",i.data);case 9:throw t.prev=9,t.t0=t["catch"](2),401===t.t0.response.status&&router.push("/").catch((function(){})),console.log("Had issues ".concat(n,"ing to server"),t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),j.apply(this,arguments)}var R={login:P,signup:D,getEmptyUser:Y,logout:z,getById:q,getLoggedinUser:G,update:B,getUsers:N,remove:V};function P(t){return L.apply(this,arguments)}function L(){return L=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.post("auth/login",e);case 3:return n=t.sent,t.abrupt("return",H(n));case 7:throw t.prev=7,t.t0=t["catch"](0),s=t.t0.response.data.msg,s;case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),L.apply(this,arguments)}function D(t){return A.apply(this,arguments)}function A(){return A=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.post("auth/signup",e);case 2:return n=t.sent,t.abrupt("return",H(n));case 4:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function N(){return M.get("user")}function V(t){return M.delete("user/".concat(t))}function z(){return F.apply(this,arguments)}function F(){return F=Object(E["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)}))),F.apply(this,arguments)}function q(t){return J.apply(this,arguments)}function J(){return J=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.get("user/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function H(t){return sessionStorage.setItem("user",JSON.stringify(t)),t}function B(t){return Z.apply(this,arguments)}function Z(){return Z=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.put("user/".concat(e._id),e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),Z.apply(this,arguments)}function G(){var t=sessionStorage.getItem("user");return t?JSON.parse(t):null}function Y(){return{username:"",password:"",email:""}}var K=new s["default"],X={name:"sign-up",data:function(){return{passwordType:"password",isSignup:!1,user:null,currMsg:""}},methods:{toggleModalMode:function(){this.isSignup=!this.isSignup,this.isSignup?this.user=R.getEmptyUser():this.user={email:"",password:""}},modalAction:function(){this.isSignup?this.signup(this.user):this.login(this.user)},signup:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(t.user)),e.next=3,t.$store.dispatch({type:"signup",userCreds:n});case 3:t.closeModal(),K.$emit("show-msg",{txt:"Welcome to Webcraft, ".concat(t.user.username,"."),type:"success"}),t.user=R.getEmptyUser();case 6:case"end":return e.stop()}}),e)})))()},login:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.parse(JSON.stringify(t.user)),e.next=4,t.$store.dispatch({type:"login",userCreds:n});case 4:s=e.sent,s&&t.closeModal(),K.$emit("show-msg",{txt:"Welcome back, ".concat(s.username,"."),type:"success"}),t.$router.push("/editor"),t.user={email:"",password:""},e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),t.currMsg=e.t0,K.$emit("show-msg",{txt:"Invalid Credentials, Try Again",type:"error"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},toggleFieldType:function(){this.passwordType="password"===this.passwordType?"text":"password"},closeModal:function(){this.$emit("closeSignupModal")}},computed:{modalHeader:function(){return this.isSignup?"Sign Up":"Login"},modelMode:function(){return this.isSignup?"user.username":"user.email"},link:function(){return this.isSignup?"Already have an account? Sign in!":"You dont have an account? Sign up!"}},created:function(){this.user=R.getEmptyUser()}},Q=X,tt=Object(d["a"])(Q,S,T,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"loader-container"},[s("img",{staticClass:"loader",attrs:{src:n("281f"),alt:""}})])}],it={name:"loader"},rt=it,at=(n("41ec"),Object(d["a"])(rt,nt,st,!1,null,"424a382a",null)),ot=at.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.msg?n("section",{staticClass:"user-msg",class:t.msgType},[n("i",{staticClass:"icon",class:t.msgIcon}),n("div",{staticClass:"msg-info"},[n("p",[t._v(t._s(t.msg.type))]),n("p",{staticClass:"msg-txt"},[t._v(t._s(t.msg.txt))])]),n("button",{staticClass:"close-btn-user-msg",style:{backgroundColor:t.bcgColor},on:{click:t.closeMsg}},[t._v("x")])]):t._e()},lt=[],ut={name:"user-msg",data:function(){return{msg:null,timer:null}},methods:{closeMsg:function(){this.msg=null,clearTimeout(this.timer)}},computed:{msgType:function(){var t=this.msg.type;return{success:"success"===t,error:"error"===t}},msgIcon:function(){var t=this.msg.type;return"success"===t?"fas fa-check-circle fa-2x":"fas fa-exclamation-triangle fa-2x"},bcgColor:function(){var t=this.msg.type;return"success"===t?"#124a76":"#8b1a1a"}},created:function(){var t=this;K.$on("show-msg",(function(e){t.timer&&t.closeMsg(),t.msg=e,t.timer=setTimeout((function(){t.closeMsg()}),3e3)}))}},pt=ut,dt=(n("54c2"),Object(d["a"])(pt,ct,lt,!1,null,"4fc80634",null)),mt=dt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"socket-modal"},[n("section",{staticClass:"socket-modal-popup"},[n("button",{staticClass:"btn socket-close-btn",on:{click:t.closeSocketModal}},[n("i",{staticClass:"fas fa-times"})]),n("div",{staticClass:"content"},[t._m(0),n("p",[t._v("Send the link to friends and start work together!")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currCollabLink,expression:"currCollabLink"}],staticClass:"form-field",attrs:{type:"text"},domProps:{value:t.currCollabLink},on:{input:function(e){e.target.composing||(t.currCollabLink=e.target.value)}}})]),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{xmlns:"http://www.w3.org/2000/svg",d:"M306.5 -31.4999L882 -31.4998C999 -31.4997 999 -151.22 999 -10V480.5V1082.5C999 1347.06 553.889 1094.34 212.5 932.5C-67.0003 800 -42.9294 593.465 125.001 266C285 -45.9997 206.667 -14.9999 306.5 -31.4999Z",fill:"#04befe"}}),n("defs",[n("linearGradient",{attrs:{id:"paint0_linear",x1:"1038.17",y1:"-8.72305",x2:"223.672",y2:"689.277",gradientUnits:"userSpaceOnUse"}},[n("stop",{attrs:{"stop-color":"#38D39F"}}),n("stop",{attrs:{offset:"1","stop-color":"#38A4D3"}})],1)],1)])])])},ht=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"modal-title"},[n("i",{staticClass:"fas fa-users collab-icon"}),t._v(" Welcome to collaborate mode!")])}],gt={name:"socket-modal",props:{currCollabLink:{type:String}},methods:{closeSocketModal:function(){this.$emit("closeSocketModal")}}},vt=gt,bt=Object(d["a"])(vt,ft,ht,!1,null,null,null),Ct=bt.exports,wt={data:function(){return{showModal:!1}},components:{appHeader:x,signUp:et,loader:ot,userMsg:mt,socketModal:Ct},computed:{isViewMode:function(){return this.$store.getters.isViewMode},toggleSignupModal:function(){this.showModal=!this.showModal},isLoading:function(){return this.$store.getters.isLoading}}},yt=wt,_t=Object(d["a"])(yt,i,r,!1,null,null,null),kt=_t.exports,xt=n("8c4f"),St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"content-wrapper main-layout"},[s("div",{staticClass:"main-hero flex column full"},[s("h1",[t._v("Build a website easily!")]),s("img",{staticClass:"hero-img",attrs:{src:n("b617")}}),s("button",{staticClass:"home-btn hero-btn btn",on:{click:t.pushEditor}},[t._v("Start Building")])]),s("div",{staticClass:"home-card flex column"},[s("div",{staticClass:"card-content flex column space-between"},[s("span",{staticClass:"home-tag text-left"},[t._v("Imagination")]),s("h2",{staticClass:"title"},[t._v("Build your own websites that you can be proud of!")]),t._m(0),s("button",{staticClass:"home-btn btn",on:{click:t.pushEditor}},[t._v("Lets Create")])]),s("img",{staticClass:"card-img",attrs:{src:"https://imagizer.imageshack.com/img924/8105/aLPK9v.png"}})]),s("div",{staticClass:"home-card flex column"},[s("div",{staticClass:"card-content flex column space-between"},[s("span",{staticClass:"home-tag text-right"},[t._v("Accessibility")]),s("h2",{staticClass:"title"},[t._v("Suited for all your needs")]),t._m(1),s("button",{staticClass:"home-btn btn",on:{click:t.pushTemplate}},[t._v("Check Templates")])]),s("img",{staticClass:"card-img",attrs:{src:"https://imagizer.imageshack.com/img922/6240/9IpCzn.png"}})]),s("div",{staticClass:"home-card flex column"},[s("div",{staticClass:"card-content flex column space-between"},[s("span",{staticClass:"home-tag text-left"},[t._v("Just Drag")]),s("h2",{staticClass:"title"},[t._v("Just Drag & Drop")]),t._m(2),s("button",{staticClass:"home-btn btn",on:{click:t.pushEditor}},[t._v("Give It A Try")])]),s("img",{staticClass:"card-img",attrs:{src:"https://imagizer.imageshack.com/img924/328/88wVuo.png"}})])])},Tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" Our platform will let you build you own websites using only your imagination. "),n("span",{staticClass:"logo-name"},[t._v("Webcraft")]),t._v(" empowers you to to build professional, custom websites in a completely visual canvas. ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"intro-text"},[t._v(" Suited for any of your needs Design and build your own high-quality websites. Whether you’re promoting your business, showcasing your work, opening your store or starting a blog — you can do it all with the "),n("span",{staticClass:"logo-name"},[t._v("Webcraft")]),t._v(" website editor. ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"intro-text"},[t._v(" With a simple and drag and drop website builder, you can design any website you want. Just "),n("span",[t._v("Drag")]),t._v(", "),n("span",[t._v("Drop")]),t._v(" and "),n("span",[t._v("Customise!")]),t._v(" All the templates below were built using the "),n("span",{staticClass:"logo-name"},[t._v("Webcraft")]),t._v(" platform. ")])}],Et={name:"home",components:{loader:ot},methods:{pushEditor:function(){this.$router.push("/editor")},pushTemplate:function(){this.$router.push("/wap")}}},$t=Et,It=Object(d["a"])($t,St,Tt,!1,null,null,null),Ot=It.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"editor-container flex column",class:t.isEditorShown},[t.currWap?n("editor-dashboard",{attrs:{wapTree:t.wapTree,samples:t.samples,cmpToEdit:t.currCmpToEdit},on:{switchedTab:t.emptyCmpToEdit,vidChanged:t.setChangedVid,mapZoomChanged:t.emitChangedZoom,saveWap:t.saveWap,focusedCmp:t.setCmpToEdit,copiedCmp:t.copyCmp,deletedCmp:t.deleteCmp,movedCmp:t.moveCmp,openPublishModal:t.publishWebsite,saveSample:t.saveSample,updatedSocket:t.updatedSocket,makeWapCollab:t.makeWapCollab}},[n("toggle-editor",{staticClass:"btn toggle-dashboard",attrs:{slot:"toggle-editor-btn",isEditorShow:this.isEditorShow},on:{toggled:t.toggleEditor},slot:"toggle-editor-btn"})],1):t._e(),!t.isLoading&&t.currWap?n("editor-workspace",{attrs:{cmps:t.currWap.cmps},on:{focusedCmp:t.setCmpToEdit,updatedTxt:t.updateTxt,copy:t.copySection,moveSection:t.moveSection,droppedSample:t.dropSample,droppedSection:t.dropSection,delete:t.deleteSection}}):n("loader"),t.showPublishModal?n("publish-modal",{attrs:{currWebsiteLink:t.currWebsiteLink},on:{closePublishModal:t.togglePublishModal}}):t._e(),t.showSocketModal?n("socket-modal",{attrs:{currCollabLink:t.currCollabLink},on:{closeSocketModal:t.toggleSocketModal}}):t._e()],1)},Mt=[],Wt=(n("7db0"),n("c740"),n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"editor-dashboard"},[n("section",{staticClass:"tab-container flex"},t._l(t.tabs,(function(e){return n("button",{key:e,staticClass:"btn flex column align-center tab-btn",class:{selected:t.currTab===e},on:{click:function(n){return t.toggleTabs(e)}}},[t._v(" "+t._s(e)+" ")])})),0),t._t("toggle-editor-btn"),n("section",{staticClass:"dashboard-container"},[n(t.currDashboard,{tag:"component",staticClass:"editor-body",attrs:{samples:t.samples,cmpToEdit:t.cmpToEdit,wapTree:t.wapTree},on:{focused:t.emitFocusCmp,copied:t.emitCopyCmp,deleted:t.emitDeleteCmp,moved:t.emitMoveCmp,vidChanged:t.emitChangedVid,mapZoomChanged:t.emitChangedZoom,updatedSocket:t.emitUpdateSocket}})],1),n("user-controls",{on:{makeWapCollab:t.emitMakeWapCollab,saveWap:t.emitSaveWap,saveSample:t.emitSaveSample,openPublishModal:t.emitOpenPublishModal}})],2)}),jt=[],Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"editors-container"},[t.cmpToEdit?[n("h1",{staticClass:"editor-name text-center"},[n("span",{class:t.editorIcon}),t._v(" "+t._s(t.editorTitle)+" ")]),n("div",{staticClass:"editor-branch-controls-btns"},[n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),t.onDelete(e)}}},[n("i",{staticClass:"fas fa-trash"})]),n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),t.onCopy(e)}}},[n("i",{staticClass:"fas fa-copy"})]),n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),t.onMoveCmp(-1)}}},[n("i",{staticClass:"fas fa-angle-double-up"})]),n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),t.onMoveCmp(1)}}},[n("i",{staticClass:"fas fa-angle-double-down"})])]),t.currEditor?n(t.renderedEditor,{tag:"component",attrs:{cmpToEdit:t.cmpToEdit},on:{uploading:t.emitUploadImg,vidChanged:t.emitChangedVid,mapZoomChanged:t.emitChangedZoom,updatedSocket:t.emitUpdateSocket}}):t._e()]:n("div",{staticClass:"editor-message flex justify-center"},[n("h1",[t._v("Please click on an element to edit")])])],2)},Pt=[],Lt=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"text-editor flex column align-center"},[t.isLink?n("div",{staticClass:"editor-link-container flex column align-center"},[n("p",{staticClass:"editor-txt"},[t._v("Attach an external link to this button:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.cmpToEdit.href,expression:"cmpToEdit.href"}],attrs:{type:"text",placeholder:"Insert a link"},domProps:{value:t.cmpToEdit.href},on:{input:function(e){e.target.composing||t.$set(t.cmpToEdit,"href",e.target.value)}}}),n("i",{staticClass:"fas fa-link"})]):t._e(),t.cmpToEdit?n("div",{staticClass:"ranges-container flex column align-center"},[n("my-select",{staticClass:"custom-select",attrs:{options:t.fonts},on:{change:t.setFontFamily}}),n("p",{staticClass:"editor-txt"},[t._v("Font Size")]),n("my-range",{attrs:{options:{initVal:t.fontSize,min:1,max:72}},on:{input:t.setFontSize}}),n("p",{staticClass:"editor-txt"},[t._v("Line Height")]),n("my-range",{attrs:{options:{initVal:2.5*t.cmpToEdit.style.lineHeight,min:0,max:20}},on:{input:t.setLineHeight}}),n("p",{staticClass:"editor-txt"},[t._v("Letter Spacing")]),n("my-range",{attrs:{options:{initVal:t.letterSpacing,min:0,max:30}},on:{input:t.setLetterSpacing}})],1):t._e(),n("div",{staticClass:"align-controls flex space-between"},[n("button",{staticClass:"btn align-btn",on:{click:function(e){return t.setTextAlign("left")}}},[n("i",{staticClass:"fas fa-align-left"})]),n("button",{staticClass:"btn align-btn",on:{click:function(e){return t.setTextAlign("center")}}},[n("i",{staticClass:"fas fa-align-center"})]),n("button",{staticClass:"btn align-btn",on:{click:function(e){return t.setTextAlign("right")}}},[n("i",{staticClass:"fas fa-align-right"})])]),n("div",{staticClass:"decoration-controls flex space-between"},[n("button",{staticClass:"btn align-btn",on:{click:function(e){return t.setTxtDecoration("underline")}}},[n("i",{staticClass:"fas fa-underline"})]),n("button",{staticClass:"btn align-btn",on:{click:function(e){return t.setFontStyle("italic")}}},[n("i",{staticClass:"fas fa-italic"})]),n("button",{staticClass:"btn align-btn",on:{click:function(e){return t.setFontWeight("bold")}}},[n("i",{staticClass:"fas fa-bold"})])]),n("p",{staticClass:"editor-txt"},[t._v("Text Color")]),n("color-picker",{on:{changeColor:t.setColor}})],1)}),Dt=[],At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{staticClass:"custom-select user-input input-filter",attrs:{placeholder:"Select Font"},on:{change:t.emitChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,style:"font-family:"+t.value+";",attrs:{label:t.label,value:t.value}})})),1)},Nt=[],Vt={props:{options:Array},data:function(){return{value:""}},methods:{emitChange:function(){this.$emit("change",this.value)}}},zt=Vt,Ft=Object(d["a"])(zt,At,Nt,!1,null,null,null),qt=Ft.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block custom-range"},[n("el-slider",{attrs:{max:t.options.max,min:t.options.min},on:{input:t.emitChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},Ht=[],Bt={props:{options:Object},data:function(){return{value:this.options.initVal}},methods:{emitChange:function(){this.$emit("input",this.value)}}},Zt=Bt,Gt=Object(d["a"])(Zt,Jt,Ht,!1,null,null,null),Yt=Gt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"color-picker-container flex justify-center wrap"},[n("span",{staticClass:"color-circle transparent",on:{click:function(e){return t.onSelectColor("transparent")}}},[n("i",{staticClass:"far fa-times-circle fa-2x"})]),n("span",{staticClass:"color-circle white",class:t.colorSelected("white"),style:{backgroundColor:"white"},on:{click:function(e){return t.onSelectColor("white")}}}),n("span",{staticClass:"color-circle",class:t.colorSelected("black"),style:{backgroundColor:"black"},on:{click:function(e){return t.onSelectColor("black")}}}),t._l(t.currColorsPage,(function(e,s){return n("span",{key:s,staticClass:"color-circle",class:t.colorSelected(e),style:{backgroundColor:e},on:{click:function(n){return t.onSelectColor(e)}}})})),n("span",{staticClass:"color-circle next",on:{click:t.showMore}},[n("i",{staticClass:"far fa-arrow-alt-circle-right fa-2x"})])],2)},Xt=[],Qt=(n("fb6a"),n("6890")),te=n("2ef0"),ee={name:"color-picker",data:function(){return{colors:te.flatten(Qt),pageNum:0,pageSize:20,selectedColor:null}},methods:{colorSelected:function(t){return{selected:this.selectedColor===t}},onSelectColor:function(t){this.selectedColor=t,this.$emit("changeColor",t)},showMore:function(){this.pageNum*this.pageSize>=this.colors.length-this.pageSize?this.pageNum=0:this.pageNum+=1}},computed:{currColorsPage:function(){var t=this.pageNum*this.pageSize,e=t+this.pageSize;return this.colors.slice(t,e)}}},ne=ee,se=(n("6a75"),Object(d["a"])(ne,Kt,Xt,!1,null,"538c25e2",null)),ie=se.exports,re={props:{cmpToEdit:{type:Object}},name:"text-editor",data:function(){return{fonts:[{label:"Arial",value:"Arial"},{label:"Helvetica",value:"Helvetica"},{label:"Georgia",value:"Georgia"},{label:"Monospace",value:"Monospace"},{label:"Cursive",value:"Cursive"},{label:"Ruhl",value:"ruhl"},{label:"Vibes",value:"Vibes"},{label:"Bungee",value:"bungee"},{label:"Carme",value:"carme"},{label:"Arbutus",value:"arbutus"},{label:"Poppins",value:"poppins"}]}},methods:{setFontFamily:function(t){this.cmpToEdit.style.fontFamily=t,this.$emit("updatedSocket")},setFontSize:function(t){this.cmpToEdit.style.fontSize=t+"px",this.$emit("updatedSocket")},setLineHeight:function(t){this.cmpToEdit.style.lineHeight=t/2.5,this.$emit("updatedSocket")},setLetterSpacing:function(t){this.cmpToEdit.style.letterSpacing=t+"px",this.$emit("updatedSocket")},setTxtDecoration:function(t){var e=this.cmpToEdit.style.textDecoration;this.cmpToEdit.style.textDecoration=e===t?"revert":t,this.$emit("updatedSocket")},setFontStyle:function(t){var e=this.cmpToEdit.style.fontStyle;this.cmpToEdit.style.fontStyle=e===t?"revert":t,this.$emit("updatedSocket")},setFontWeight:function(t){var e=this.cmpToEdit.style.fontWeight;this.cmpToEdit.style.fontWeight=e!==t?t:"normal",this.$emit("updatedSocket")},setTextAlign:function(t){this.cmpToEdit.style.textAlign=t,this.$emit("updatedSocket")},setColor:function(t){this.cmpToEdit.style.color=t,this.$emit("updatedSocket")}},computed:{isLink:function(){return!!this.cmpToEdit&&"link"===this.cmpToEdit.name},fontSize:function(){var t=this.cmpToEdit.style.fontSize;return parseInt(t,10)},letterSpacing:function(){var t=this.cmpToEdit.style.letterSpacing;return parseInt(t,10)}},components:{mySelect:qt,myRange:Yt,colorPicker:ie}},ae=re,oe=Object(d["a"])(ae,Lt,Dt,!1,null,null,null),ce=oe.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section section-editor flex column align-center"},[n("p",{staticClass:"editor-txt"},[t._v("Set Round Edges:")]),n("my-range",{attrs:{options:{initVal:t.sectionRadius,min:0,max:50}},on:{input:t.setSectionRadius}}),"img"!==t.cmpToEdit.name?[n("p",{staticClass:"editor-txt"},[t._v("Set A Background Color")]),n("color-picker",{on:{changeColor:t.setColor}})]:t._e(),n("div",{staticClass:"img-uploader"},[t.showBgPreview?n("div",{staticClass:"preview",style:"background-color:"+t.cmpToEdit.style.background+";"},[t.cmpToEdit.imgUrl?n("img",{attrs:{src:t.cmpToEdit.imgUrl}}):t._e()]):t._e(),n("p",{staticClass:"editor-txt"},[t._v("Or Add An Image As A Background")]),n("label",{staticClass:"user-input input-file"},[n("i",{staticClass:"fas fa-cloud-upload-alt"}),n("input",{staticClass:"hide",attrs:{type:"file"},on:{change:t.emitUploadImg}})])]),n("img-search",{on:{setImg:t.setImg}})],2)},ue=[],pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"unsplash-search"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.searchImgs(e)}}},[n("div",{staticClass:"form-container flex justify-center"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.term,expression:"term",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Search Image..."},domProps:{value:t.term},on:{input:function(e){e.target.composing||(t.term=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._m(0)])]),n("div",{staticClass:"unsplash-imgs-container grid"},t._l(t.imgs,(function(e,s){return n("div",{key:s,staticClass:"unsplash-img-card"},[n("img",{staticClass:"unsplash-img",attrs:{src:e.thumb},on:{click:function(n){return t.onImgSelect(e)}}})])})),0)])},de=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-search"},[n("i",{staticClass:"fas fa-search"})])}],me=(n("d3b7"),n("25f0"),n("2909")),fe={applyDrag:ge,makeId:he,getImgs:ve,uploadImg:ye,videoSearch:Ce};function he(){return Math.random().toString(36).substring(2,12)}function ge(t,e){var n=e.removedIndex,s=e.addedIndex,i=e.payload;if(null===n&&null===s)return t;var r=Object(me["a"])(t),a=i;return null!==n&&(a=r.splice(n,1)[0]),null!==s&&r.splice(s,0,a),r}function ve(t){return be.apply(this,arguments)}function be(){return be=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="DL-fOJKfzUbQ2irbF2Oleeza3GuX2LyJ-mVPCUJsJc8",t.next=3,I.a.get("https://api.unsplash.com/search/photos?page=1&per_page=30&query=".concat(e,"&client_id=").concat(n));case 3:return s=t.sent,i=s.data.results.map((function(t){return t.urls})),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)}))),be.apply(this,arguments)}function Ce(t){return we.apply(this,arguments)}function we(){return we=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="AIzaSyAL9hmi8XD2yjr3qrRzuBNP33qgdy5bvss",t.next=3,I.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=24&videoEmbeddable=true&type=video&key=".concat(n,"&q=").concat(e));case 3:return s=t.sent,i=s.data.items.map((function(t){var e=t.id.videoId,n=t.snippet.thumbnails.default.url,s=t.snippet.title;return{title:s.substring(0,10),videoId:e,thumbnail:n}})),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)}))),we.apply(this,arguments)}function ye(t){return _e.apply(this,arguments)}function _e(){return _e=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="tfdzm5iy",s="https://api.cloudinary.com/v1_1/dpro0mdti/image/upload",i=new FormData,i.append("file",e.target.files[0]),i.append("upload_preset",n),t.prev=5,t.next=8,I.a.post(s,i);case 8:return r=t.sent,t.abrupt("return",r.data);case 12:t.prev=12,t.t0=t["catch"](5),console.error("ERROR!",t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])}))),_e.apply(this,arguments)}var ke={name:"img-search",data:function(){return{term:null,imgs:[]}},methods:{searchImgs:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fe.getImgs(t.term);case 2:t.imgs=e.sent,t.term=null;case 4:case"end":return e.stop()}}),e)})))()},onImgSelect:function(t){this.$emit("setImg",t.regular)}},components:{}},xe=ke,Se=Object(d["a"])(xe,pe,de,!1,null,null,null),Te=Se.exports,Ee={name:"section-editor",props:{cmpToEdit:{type:Object}},methods:{emitUploadImg:function(t){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fe.uploadImg(t);case 2:s=n.sent,e.cmpToEdit.style.background="url(".concat(s.url,") center / cover no-repeat"),e.cmpToEdit.imgUrl=s.url,e.$emit("updatedSocket");case 6:case"end":return n.stop()}}),n)})))()},setColor:function(t){this.cmpToEdit.imgUrl&&(this.cmpToEdit.imgUrl=null),this.cmpToEdit.style.background=t,this.$emit("updatedSocket")},setImg:function(t){this.cmpToEdit.imgUrl=t,this.cmpToEdit.style.background="url(".concat(t,") center / cover no-repeat"),this.$emit("updatedSocket")},setSectionRadius:function(t){this.cmpToEdit.style.borderRadius=t+"px",this.$emit("updatedSocket")}},computed:{sectionRadius:function(){var t=this.cmpToEdit.style.borderRadius;return parseInt(t,10)},showBgPreview:function(){return this.cmpToEdit.imgUrl||"transparent"!==this.cmpToEdit.style.background}},components:{myRange:Yt,colorPicker:ie,imgSearch:Te}},$e=Ee,Ie=(n("7a9e"),Object(d["a"])($e,le,ue,!1,null,"4790289e",null)),Oe=Ie.exports,Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"misc-editor flex column align-center"},["iframe"===t.cmpToEdit.name?n("div",{staticClass:"video-editor flex align-center column"},[n("p",[t._v("Please enter a youtube link")]),n("form",{staticClass:"flex column",on:{submit:function(e){return e.preventDefault(),t.setVidUrl(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.vidUrl,expression:"vidUrl"}],attrs:{type:"text"},domProps:{value:t.vidUrl},on:{input:function(e){e.target.composing||(t.vidUrl=e.target.value)}}}),n("button",{staticClass:"video-btn"},[t._v("Change")]),t.isInvalid?n("h3",{staticClass:"warning-txt"},[t._v(" This link is invalid, please try another one. ")]):t._e()]),t.cmpToEdit.vidUrl?n("iframe",{attrs:{width:"270",height:"270",src:t.convertedUrl,frameBorder:"0"}}):t._e(),n("p",{staticClass:"normal-txt"},[t._v("Or search on YouTube")]),n("video-search",{on:{setVideo:t.setVideo}})],1):t._e(),"google-map"===t.cmpToEdit.name?n("div",{staticClass:"map-editor flex align-center column"},[n("form",{on:{submit:function(t){t.preventDefault()}}},[n("p",[t._v("Set Zoom")]),n("my-range",{attrs:{options:{initVal:t.zoom,min:1,max:20}},on:{input:t.setMapZoom}}),n("p",[t._v("Seach for a location:")]),n("input",{attrs:{type:"text",placeholder:"Type here"}}),n("button",{staticClass:"map-search-btn btn",attrs:{type:"submit"}},[t._v("Search")])],1)]):t._e()])},Me=[],We=(n("caad"),n("2532"),n("466d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"video-search-container"},[n("form",{staticClass:"video-form flex column align-items",on:{submit:function(e){return e.preventDefault(),t.searchVideos(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.term,expression:"term",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Search videos..."},domProps:{value:t.term},on:{input:function(e){e.target.composing||(t.term=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._m(0)]),n("div",{staticClass:"video-thumb-container"},t._l(t.videos,(function(e,s){return n("div",{key:s,staticClass:"video-thumnbail"},[n("h4",{staticClass:"vid-title"},[t._v(t._s(e.title))]),n("img",{staticClass:"video-img",attrs:{src:e.thumbnail},on:{click:function(n){return t.onVideoSelect(e.videoId)}}})])})),0)])}),je=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-search video-search-btn"},[n("i",{staticClass:"fas fa-search"})])}],Re={name:"video-search",data:function(){return{term:"",videos:[]}},methods:{searchVideos:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fe.videoSearch(t.term);case 2:n=e.sent,t.videos=n,t.term="";case 5:case"end":return e.stop()}}),e)})))()},onVideoSelect:function(t){this.$emit("setVideo",t)}}},Pe=Re,Le=Object(d["a"])(Pe,We,je,!1,null,null,null),De=Le.exports,Ae=n("c1fd"),Ne={name:"video-editor",data:function(){return{vidUrl:null,isInvalid:!1,zoom:null}},props:{cmpToEdit:Object},computed:{convertedUrl:function(){if(this.cmpToEdit.vidUrl.includes("?v=")){var t=this.cmpToEdit.vidUrl.split("?v=")[1];return"https://www.youtube.com/embed/".concat(t)}return this.cmpToEdit.vidUrl}},methods:{setMapZoom:function(t){this.$emit("mapZoomChanged",t),this.$emit("updatedSocket")},setVideo:function(t){var e="https://www.youtube.com/watch?v=".concat(t);this.vidUrl=e,this.setVidUrl(),this.$emit("updatedSocket")},setVidUrl:function(){this.matchYoutubeUrl(this.vidUrl)&&(this.isInvalid=!1,this.$emit("vidChanged",this.vidUrl),this.$emit("updatedSocket"))},matchYoutubeUrl:function(t){var e=this,n=/^(?:https?:\/\/)?(?:m\.|www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;if(t.match(n))return t.match(n)[1];this.isInvalid=!0,s&&clearTimeout(s);var s=setTimeout((function(){e.isInvalid=!1}),3e3);return!1}},components:{videoSearch:De,myRange:Yt,inputNumber:Ae["default"]},updated:function(t){},created:function(){this.cmpToEdit.vidUrl&&(this.vidUrl=this.cmpToEdit.vidUrl),this.cmpToEdit.info&&(this.zoom=this.cmpToEdit.info.zoom)}},Ve=Ne,ze=Object(d["a"])(Ve,Ue,Me,!1,null,null,null),Fe=ze.exports,qe={name:"editors-container",props:{cmpToEdit:{type:Object}},data:function(){return{currEditor:null}},computed:{renderedEditor:function(){return this.currEditor+"-editor"},editorTitle:function(){if(this.cmpToEdit){var t=this.cmpToEdit.name;return"section"===t||"div"===t?"Section Editor":"txt"===t||"i"===t?"Text Editor":"link"===t?"Link Editor":"img"===t?"Image Editor":"iframe"===t?"Video Editor":"google-map"===t?"Map Editor":this.cmpToEdit.name+" Editor"}},editorIcon:function(){return"iframe"===this.cmpToEdit.name?"fab fa-youtube":"google-map"===this.cmpToEdit.name?"fas fa-map-marked-alt":void 0}},methods:{getEditorsName:function(){if(this.cmpToEdit){var t=this.cmpToEdit.name;this.currEditor="section"===t||"div"===t||"img"===t?"section":"iframe"===t||"google-map"===t?"video":"text"}},emitUpdateSocket:function(){this.$emit("updatedSocket")},emitUploadImg:function(t){this.$emit("uploading",t)},emitChangedVid:function(t){this.$emit("vidChanged",t)},emitChangedZoom:function(t){this.$emit("mapZoomChanged",t)},onDelete:function(){this.$emit("deleted",this.cmpToEdit._id)},onCopy:function(){this.$emit("copied",this.cmpToEdit._id)},onMoveCmp:function(t){this.$emit("moved",this.cmpToEdit._id,t)}},updated:function(){this.getEditorsName()},created:function(){this.getEditorsName()},components:{textEditor:ce,sectionEditor:Oe,videoEditor:Fe}},Je=qe,He=Object(d["a"])(Je,Rt,Pt,!1,null,null,null),Be=He.exports,Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"type-list flex column align-center"},[n("h1",[t._v("Pick an element")]),t.selectedType?t._e():n("div",{staticClass:"element-picker-container grid"},t._l(t.types,(function(e){return n("button",{key:e,on:{click:function(n){return t.pickType(e)}}},[t._v(" "+t._s(e)+" ")])})),0),t.selectedType?n("div",[n("span",[n("i",{staticClass:"fas fa-arrow-left",on:{click:t.emptyType}})]),n("sample-list",{attrs:{samples:t.filterdSamples}})],1):t._e()])},Ge=[],Ye=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sample-list"},[n("Container",{attrs:{behaviour:"copy","group-name":"editor","drag-class":"card-ghost","drop-class":"card-ghost-drop","get-child-payload":t.getChildPayload,"get-ghost-parent":t.getGhostParent}},t._l(t.samples,(function(e){return n("Draggable",{key:e._id},[n("div",{staticClass:"sample-preview flex column"},[n("h3",{staticClass:"sample-title"},[t._v(t._s(e.title))]),n("img",{attrs:{src:e.thumbnail}})])])})),1)],1)}),Ke=[],Xe=n("3f7d"),Qe={name:"sample-list",props:{samples:{type:Array}},methods:{onDrop:function(t){this.$emit("droppedSample",t)},getChildPayload:function(t){return this.samples[t]},getGhostParent:function(){}},components:{Container:Xe["Container"],Draggable:Xe["Draggable"]}},tn=Qe,en=Object(d["a"])(tn,Ye,Ke,!1,null,null,null),nn=en.exports,sn={name:"type-list",props:{samples:{type:Array}},data:function(){return{types:["header","cards","footer","gallery","map","video","form","divider","text"],selectedType:null}},methods:{pickType:function(t){this.selectedType=t},emptyType:function(){this.selectedType=null}},computed:{filterdSamples:function(){var t=this;return this.samples.filter((function(e){return e.type===t.selectedType}))}},components:{sampleList:nn}},rn=sn,an=Object(d["a"])(rn,Ze,Ge,!1,null,null,null),on=an.exports,cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.wapTree?n("section",{staticClass:"data-tree"},[n("h1",{staticClass:"editor-name"},[t._v("Your websites data tree:")]),t._l(t.wapTree,(function(e){return n("tree-branch",{key:e._id,attrs:{cmp:e},on:{focused:t.emitFocusCmp,deleted:t.emitDeleteCmp,copied:t.emitCopyCmp,moved:t.emitMoveCmp}})}))],2):t._e()},ln=[],un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"tree-branch"},[n("li",{staticClass:"tree-branch-name",class:{selected:t.isItemOpen},attrs:{id:"el-"+t.workerHoverClass},on:{focused:t.onFocus,deleted:t.onDelete,copied:t.onCopy,moved:t.onMoveCmp,click:function(e){return e.stopPropagation(),t.toggleAccordionItem(!t.isItemOpen)}}},[n("h3",[t._v(" "+t._s(t.cmpTitle)+" ")]),n("div",{staticClass:"branch-controls-btns"},[n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onFocus(t.cmp._id)}}},[n("i",{staticClass:"fas fa-pen"})]),n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),t.onDelete(t.cmp._id)}}},[n("i",{staticClass:"fas fa-trash"})]),n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),t.onCopy(t.cmp._id)}}},[n("i",{staticClass:"fas fa-copy"})]),n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),t.onMoveCmp(t.cmp._id,-1)}}},[n("i",{staticClass:"fas fa-angle-double-up"})]),n("button",{staticClass:"btn branch-btn",on:{click:function(e){return e.stopPropagation(),t.onMoveCmp(t.cmp._id,1)}}},[n("i",{staticClass:"fas fa-angle-double-down"})])]),t.cmp.children&&t.isItemOpen?[n("transition-group",{attrs:{name:"open-branch"}}),t._l(t.cmp.children,(function(e){return n("tree-branch",{key:e._id,attrs:{slot:"branch-slot",cmp:e},on:{focused:t.onFocus,deleted:t.onDelete,copied:t.onCopy,moved:t.onMoveCmp},slot:"branch-slot"})})),n("transition-group")]:t._e()],2)])},pn=[],dn={name:"tree-branch",props:{cmp:{type:Object}},data:function(){return{items:[],open:null,isItemOpen:!1}},methods:{onFocus:function(t){this.$emit("focused",t)},onDelete:function(t){this.$emit("deleted",t)},onCopy:function(t){this.$emit("copied",t)},onMoveCmp:function(t,e){this.$emit("moved",t,e)},registerItem:function(t){this.items.push(t),null===this.open&&t.toggleAccordionItem(!0)},unregisterItem:function(t){this.open===t&&(this.open=null);var e=this.items.findIndex((function(e){return e._uid===t._uid}));this.items.splice(e,1)},setItemOpen:function(t,e){for(var n=0;n<this.items.length;n++){var s=this.items[n];!0===e&&s._uid!==t._uid&&s.toggleAccordionItem(!1)}this.open=!1===e?null:t},toggleAccordionItem:function(t){t!==this.isItemOpen&&(this.isItemOpen=t,this.$parent.setItemOpen(this,this.isItemOpen))}},computed:{cmpTitle:function(){if(this.cmp){var t=this.cmp.name;return"section"===t||"div"===t?"Section ":"txt"===t||"i"===t?"Text":"link"===t?"Link":"img"===t?"Image":"iframe"===t?"Video":"google-map"===t?"Map":this.cmp.name}},workerHoverClass:function(){return this.cmp._id}},beforeMount:function(){this.$parent.registerItem(this)},beforeDestroy:function(){this.$parent.unregisterItem(this),this.$el.removeEventListener("mouseover",(function(){}),!0),this.$el.removeEventListener("mouseleave",(function(){}),!0)},mounted:function(){var t=document.querySelectorAll("#el-".concat(this.cmp._id));this.$el.addEventListener("mouseover",(function(e){e.stopPropagation(),t[1].style.outline="2.5px dashed #124a76","div"!==t[1].localName&&"section"!==t[1].localName||(t[1].style.border="3px dashed #124a76");setTimeout((function(){t[1].style.outline=null,"div"!==t[1].localName&&"section"!==t[1].localName||(t[1].style.border=null)}),3e3)})),this.$el.addEventListener("mouseleave",(function(e){e.stopPropagation(),t[1].style.outline=null,"div"!==t[1].localName&&"section"!==t[1].localName||(t[1].style.border=null)}))}},mn=dn,fn=Object(d["a"])(mn,un,pn,!1,null,null,null),hn=fn.exports,gn={name:"data-tree",props:{wapTree:{type:Array}},data:function(){return{items:[],open:null}},components:{treeBranch:hn},methods:{emitFocusCmp:function(t){this.$emit("focused",t)},emitDeleteCmp:function(t){this.$emit("deleted",t)},emitCopyCmp:function(t){this.$emit("copied",t)},emitMoveCmp:function(t,e){this.$emit("moved",t,e)},registerItem:function(t){this.items.push(t),null===this.open&&t.toggleAccordionItem(!0)},unregisterItem:function(t){this.open===t&&(this.open=null);var e=this.items.findIndex((function(e){return e._uid===t._uid}));this.items.splice(e,1)},setItemOpen:function(t,e){for(var n=0;n<this.items.length;n++){var s=this.items[n];!0===e&&s._uid!==t._uid&&s.toggleAccordionItem(!1)}this.open=!1===e?null:t}}},vn=gn,bn=Object(d["a"])(vn,cn,ln,!1,null,null,null),Cn=bn.exports,wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.loggedInUser?n("button",{staticClass:"btn collab-btn",on:{click:t.startCollab}},[n("i",{staticClass:"fas fa-users"}),t._v(" Start Collaborate ")]):t._e(),n("section",{staticClass:"user-controls flex justify-center"},[n("button",{staticClass:"btn choice-btn save",on:{click:t.saveWap}},[t._v("Save")]),n("button",{staticClass:"btn choice-btn",on:{click:t.openPublishModal}},[t._v(" Publish ")])])])},yn=[],_n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"modal-container"},[n("div",{staticClass:"flex align-center justify-center screen",on:{click:t.closePublishModal}}),n("section",{staticClass:"publish-modal-container"},[n("h1",{staticClass:"modal-title"},[t._v("Your Website Link:")]),n("button",{staticClass:"btn close-pub-btn",on:{click:t.closePublishModal}},[t._v("x")]),n("div",{staticClass:"publish-container-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currWebsiteLink,expression:"currWebsiteLink"}],staticClass:"publish-input",attrs:{type:"text"},domProps:{value:t.currWebsiteLink},on:{input:function(e){e.target.composing||(t.currWebsiteLink=e.target.value)}}}),n("button",{staticClass:"btn copy-btn",on:{click:t.copyWebLink}},[n("i",{staticClass:"fas fa-clipboard"})]),t.isCopy?n("p",{staticClass:"text-center"},[t._v("Your Link Has Been Copied!")]):t._e()])])])},kn=[],xn={name:"publish-modal",props:{currWebsiteLink:String},data:function(){return{isCopy:!1}},methods:{closePublishModal:function(){this.$emit("closePublishModal")},copyWebLink:function(){var t=document.querySelector("body"),e=document.querySelector(".publish-input"),n=document.createElement("textarea");n.value=e.value,t.appendChild(n),n.select(),document.execCommand("copy"),n.remove(),this.isCopy=!0,this.restIsCopy()},restIsCopy:function(){var t=this;setTimeout((function(){t.isCopy=!1}),1500)}}},Sn=xn,Tn=Object(d["a"])(Sn,_n,kn,!1,null,null,null),En=Tn.exports,$n={name:"user-controls",data:function(){return{showPublishModal:!1}},methods:{saveWap:function(){this.$emit("saveWap")},openPublishModal:function(){this.loggedInUser?this.$emit("openPublishModal"):K.$emit("show-msg",{txt:"Please Login to publish your website",type:"error"})},saveSample:function(){this.$emit("saveSample")},startCollab:function(){this.$emit("makeWapCollab")}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},components:{publishModal:En}},In=$n,On=Object(d["a"])(In,wn,yn,!1,null,null,null),Un=On.exports,Mn={name:"editor-dashboard",props:{cmpToEdit:{type:Object},wapTree:{type:Array},samples:{type:Array}},data:function(){return{currTab:"add",tabs:["tree","add","edit"]}},methods:{emitMakeWapCollab:function(){this.$emit("makeWapCollab")},emitUpdateSocket:function(){this.$emit("updatedSocket")},emitDeleteCmp:function(t){this.$emit("deletedCmp",t)},emitCopyCmp:function(t){this.$emit("copiedCmp",t)},emitMoveCmp:function(t,e){this.$emit("movedCmp",t,e)},toggleTabs:function(t){this.currTab=t,"edit"!==this.currTab&&this.$emit("switchedTab")},emitFocusCmp:function(t){var e=this;this.$emit("focusedCmp",t),setTimeout((function(){e.toggleTabs("edit")}),500)},emitChangedVid:function(t){this.$emit("vidChanged",t)},emitChangedZoom:function(t){this.$emit("mapZoomChanged",t)},emitSaveWap:function(){this.$emit("saveWap")},emitOpenPublishModal:function(){this.$emit("openPublishModal")},emitSaveSample:function(){this.$emit("saveSample")}},computed:{currDashboard:function(){return"tree"===this.currTab?"data-tree":"edit"===this.currTab?"editors-container":"type-list"}},updated:function(){this.cmpToEdit&&(this.currTab="edit")},components:{typeList:on,editorsContainer:Be,dataTree:Cn,userControls:Un}},Wn=Mn,jn=Object(d["a"])(Wn,Wt,jt,!1,null,null,null),Rn=jn.exports,Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"editor-workspace flex column",class:t.emptyWorkspace},[n("Container",{staticClass:"dnd-container",attrs:{"auto-scroll-enabled":"","group-name":"editor","drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":t.dropPlaceholderOptions,"get-child-payload":t.getChildPayload},on:{drop:t.onDrop}},t._l(t.cmps,(function(e){return n("Draggable",{key:e._id},[n("wap-worker",{attrs:{cmp:e},on:{copy:t.emitCopy,delete:t.emitDelete,focused:t.emitFocusCmp,updatedTxt:t.emitUpdateTxt,moveSection:t.emitMoveSection}})],1)})),1)],1)},Ln=[],Dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.name,{tag:"component",staticClass:"worker-class",class:t.cmp.class,style:t.cmp.style,attrs:{info:t.getInfo,id:"el-"+t.workerHoverClass,frameborder:0,src:t.urlSrc,contenteditable:t.editable,allowfullscreen:t.video,placeholder:t.cmp.placeholder},on:{blur:t.updateTxt,focused:t.onFocus,ondragstart:t.imgDraggable,click:function(e){return e.stopPropagation(),e.preventDefault(),t.onFocus(t.cmp._id)}}},["section"===t.cmp.name?n("controls",{attrs:{_id:t.cmp._id},on:{copy:t.emitCopy,delete:t.emitDelete,moveSection:t.emitMoveSection}}):t._e(),t.vidOrMap?n("div",{staticClass:"misc-control",attrs:{slot:"misc-control"},slot:"misc-control"},[n("button",{staticClass:"iframe-btn btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onFocus(t.cmp.children[0]._id)}}},[n("i",{staticClass:"fas fa-link"})])]):t._e(),t._v(" "+t._s(t.cmpTxt)+" "),t.cmp.children?t._l(t.cmp.children,(function(e){return n("wap-worker",{key:e._id,attrs:{cmp:e},on:{blur:t.updateTxt,focused:t.onFocus,updatedTxt:t.emitUpdateTxt}},[t._t("misc-control")],2)})):t._e()],2)},An=[],Nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("GmapMap",{attrs:{center:t.getCoords,zoom:t.getZoom,"map-type-id":"terrain"}},t._l(t.markers,(function(e,s){return n("GmapMarker",{key:s,attrs:{position:e.position,clickable:!0,draggable:t.isDraggable},on:{click:function(n){t.center=e.position}}})})),1)},Vn=[],zn={name:"google-map",props:{info:Object},data:function(){return{markers:[{position:{lat:32.088028,lng:34.803222}}]}},methods:{},computed:{getCoords:function(){return{lat:this.info.position.lat,lng:this.info.position.lng}},getZoom:function(){return this.info.zoom},isDraggable:function(){return this.info.isDraggable}}},Fn=zn,qn=Object(d["a"])(Fn,Nn,Vn,!1,null,null,null),Jn=qn.exports,Hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controls flex align-center"},[n("button",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.onDelete(e)}}},[n("i",{staticClass:"fas fa-trash"})]),n("button",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.onCopy(e)}}},[n("i",{staticClass:"fas fa-copy"})]),n("button",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.onMoveSection(-1)}}},[n("i",{staticClass:"fas fa-angle-double-up"})]),n("button",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.onMoveSection(1)}}},[n("i",{staticClass:"fas fa-angle-double-down"})])])},Bn=[],Zn={name:"controls",props:{_id:{type:String}},methods:{onCopy:function(){this.$emit("copy",this._id)},onDelete:function(){this.$emit("delete",this._id)},onMoveSection:function(t){this.$emit("moveSection",this._id,t)}}},Gn=Zn,Yn=(n("5cc4"),Object(d["a"])(Gn,Hn,Bn,!1,null,"1f78c9d3",null)),Kn=Yn.exports,Xn={name:"wap-worker",props:{parentInfo:Object,cmp:{type:Object,required:!0},siteMode:{type:Boolean}},computed:{name:function(){var t=this.cmp.name;return"txt"===t?"span":"link"===t?"a":"vid"===t?"iframe":t},cmpTxt:function(){return this.cmp.txt||""},urlSrc:function(){return this.cmp.imgUrl?this.cmp.imgUrl:this.cmp.vidUrl?this.convertedUrl:""},convertedUrl:function(){if(this.cmp.vidUrl.includes("?v=")){var t=this.cmp.vidUrl.split("?v=")[1];return"https://www.youtube.com/embed/".concat(t)}return this.cmp.vidUrl},editable:function(){return"txt"===this.cmp.name||"link"===this.cmp.name},video:function(){return"iframe"===this.cmp.name},imgDraggable:function(){return"img"!==this.cmp.name||"return false"},workerHoverClass:function(){return this.cmp._id},getInfo:function(){if(this.cmp.info)return this.cmp.info},vidOrMap:function(){return"video-container"===this.cmp.class||"map-container"===this.cmp.class}},methods:{updateTxt:function(t){"txt"!==this.cmp.name&&"link"!==this.cmp.name||this.$emit("updatedTxt",t.target.innerText)},emitUpdateTxt:function(t){this.$emit("updatedTxt",t)},onFocus:function(t){this.$emit("focused",t)},emitCopy:function(t){this.$emit("copy",t)},emitDelete:function(t){this.$emit("delete",t)},emitMoveSection:function(t,e){this.$emit("moveSection",t,e)}},components:{googleMap:Jn,controls:Kn}},Qn=Xn,ts=Object(d["a"])(Qn,Dn,An,!1,null,null,null),es=ts.exports,ns={name:"editor-workspace",props:{cmps:{type:Array}},data:function(){return{dropPlaceholderOptions:{className:"drop-preview",animationDuration:"250",showOnTop:!1}}},components:{Container:Xe["Container"],Draggable:Xe["Draggable"],wapWorker:es},methods:{onDrop:function(t){null===t.removedIndex?this.$emit("droppedSample",t):this.$emit("droppedSection",t)},getChildPayload:function(t){return this.cmps[t]},emitFocusCmp:function(t){this.$emit("focusedCmp",t)},emitUpdateTxt:function(t){this.$emit("updatedTxt",t)},emitCopy:function(t){this.$emit("copy",t)},emitDelete:function(t){this.$emit("delete",t)},emitMoveSection:function(t,e){this.$emit("moveSection",t,e)}},computed:{emptyWorkspace:function(){return{"empty-workspace":!this.cmps||!this.cmps.length}}}},ss=ns,is=Object(d["a"])(ss,Pn,Ln,!1,null,null,null),rs=is.exports,as=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.reverseIcon,attrs:{id:"arrowAnim"},on:{click:t.toggleEditor}},[t._m(0)])},os=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"arrow-btn"},[n("i",{staticClass:"fas fa-chevron-left"})])}],cs={name:"toggle-editor",props:{isEditorShow:Boolean},methods:{toggleEditor:function(){this.$emit("toggled")}},computed:{icon:function(){return this.isEditorShow?"fas fa-caret-left":"fas fa-caret-right"},reverseIcon:function(){return{reversed:!this.isEditorShow}}}},ls=cs,us=(n("0a2c"),Object(d["a"])(ls,as,os,!1,null,"6a21c4bc",null)),ps=us.exports;n("4160"),n("159b");function ds(){var t=M.get("sample");return t}function ms(t){var e=t._id?ws(t):Cs(t);return e}function fs(t,e){for(var n=0;n<t.length;n++){var s=t[n];if(s._id===e)return s;if(s.children){var i=fs(s.children,e);if(i)return i}}}function hs(t){var e=this;t._id=fe.makeId(),t.children&&t.children.forEach((function(t){e.replaceIds(t)}))}function gs(t){var e=this,n={name:t.name,_id:t._id,class:t.class,children:[]};return t.children&&t.children.forEach((function(t){n.children.push(e.makeTree(t))})),n}function vs(t,e){for(var n=t.cmps||t.children,s=0;s<n.length;s++){var i=n[s];if(i._id===e)return t;if(i.children){var r=vs(i,e);if(r)return r}}}var bs={query:ds,save:ms,findByIdRecursive:fs,replaceIds:hs,makeTree:gs,findParentNode:vs};function Cs(t){return M.post("sample",t)}function ws(t){return M.put("sample/".concat(wap._id),t)}function ys(t){var e=t?"?userId=".concat(t):"",n=M.get("wap".concat(e));return n}function _s(t){return M.get("wap/".concat(t))}function ks(t){var e=t._id?Ss(t):xs(t);return e}function xs(t){return M.post("wap",t)}function Ss(t){return M.put("wap/".concat(t._id),t)}function Ts(t){return M.delete("wap/".concat(t))}var Es,$s={query:ys,getById:_s,save:ks,remove:Ts},Is=n("8e27"),Os=n.n(Is),Us="/",Ms={setup:Ws,terminate:js,on:Rs,off:Ps,emit:Ls};function Ws(){Es=Os()(Us)}function js(){Es=null}function Rs(t,e){Es.on(t,e)}function Ps(t,e){Es.off(t,e)}function Ls(t,e){Es.emit(t,e)}var Ds={name:"editor",data:function(){return{currWap:null,currCmpToEdit:null,isEditorShow:!0,showPublishModal:!1,currWebsiteLink:null,showSocketModal:!1,currCollabLink:null}},computed:{isEditorShown:function(){return{"hide-editor":!this.isEditorShow}},samples:function(){return this.$store.getters.sampleList},wapTree:function(){var t=this.getCurrWapTree();return t},isLoading:function(){return this.$store.getters.isLoading},isCollabMode:function(){return this.$store.getters.isCollabMode}},methods:{makeWapCollab:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit({type:"setCollabMode",isCollabModeOn:!0}),e.next=3,t.saveWap(!1);case 3:Ms.emit("roomRoute",t.currWap._id),n="https://webcraft-ca.herokuapp.com/#/editor/".concat(t.currWap._id),t.currCollabLink=n,console.log("collab link?:",t.currCollabLink),t.toggleSocketModal(),K.$emit("show-msg",{txt:"Collabrate mode is online",type:"success"});case 9:case"end":return e.stop()}}),e)})))()},updatedSocket:function(){Ms.emit("savedWap",this.currWap)},togglePublishModal:function(){this.showPublishModal=!this.showPublishModal},toggleSocketModal:function(){this.showSocketModal=!this.showSocketModal},publishWebsite:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.saveWap();case 2:e.sent,n="https://webcraft-ca.herokuapp.com/#/wap/".concat(t.currWap._id),t.currWebsiteLink=n,t.togglePublishModal();case 6:case"end":return e.stop()}}),e)})))()},copyCmp:function(t){var e=bs.findParentNode(this.currWap,t);this.copyCmpInsideParent(e,t)},deleteCmp:function(t){var e=bs.findParentNode(this.currWap,t);this.deleteCmpInsideParent(e,t)},moveCmp:function(t,e){var n=bs.findParentNode(this.currWap,t);this.moveCmpInsideParent(n,t,e)},deleteCmpInsideParent:function(t,e){var n=t.cmps||t.children,s=n.findIndex((function(t){return t._id===e}));n.splice(s,1),Ms.emit("savedWap",this.currWap)},moveCmpInsideParent:function(t,e,n){var s=t.cmps||t.children,i=s.findIndex((function(t){return t._id===e}));if(0!==i||-1!==n){var r=s.splice(i,1);s.splice(i+n,0,r[0]),Ms.emit("savedWap",this.currWap)}},copyCmpInsideParent:function(t,e){var n=t.cmps||t.children,s=n.findIndex((function(t){return t._id===e})),i=n.find((function(t){return t._id===e})),r=JSON.parse(JSON.stringify(i));bs.replaceIds(r),n.splice(s,0,r),Ms.emit("savedWap",this.currWap)},setChangedVid:function(t){this.currCmpToEdit&&(this.currCmpToEdit.vidUrl=t)},emitChangedZoom:function(t){this.currCmpToEdit&&(this.currCmpToEdit.info.zoom=t)},getCurrWapTree:function(){var t=this.currWap.cmps.map((function(t){return bs.makeTree(t)}));return t},toggleEditor:function(){this.isEditorShow=!this.isEditorShow},setCmpToEdit:function(t){var e=bs.findByIdRecursive(this.currWap.cmps,t);this.currCmpToEdit=e},emptyCmpToEdit:function(){this.currCmpToEdit=null},updateTxt:function(t){this.currCmpToEdit.txt=t},deleteSection:function(t){var e=this.currWap.cmps.findIndex((function(e){return e._id===t}));this.currWap.cmps.splice(e,1),Ms.emit("savedWap",this.currWap)},copySection:function(t){var e=this.currWap.cmps.findIndex((function(e){return e._id===t})),n=this.currWap.cmps.find((function(e){return e._id===t})),s=JSON.parse(JSON.stringify(n));bs.replaceIds(s),this.currWap.cmps.splice(e,0,s),Ms.emit("savedWap",this.currWap)},dropSection:function(t){this.currWap.cmps=fe.applyDrag(this.currWap.cmps,t),Ms.emit("savedWap",this.currWap)},moveSection:function(t,e){var n=this.currWap.cmps.findIndex((function(e){return e._id===t}));if(0!==n||-1!==e){var s=this.currWap.cmps.splice(n,1);this.currWap.cmps.splice(n+e,0,s[0]),Ms.emit("savedWap",this.currWap)}},saveWap:function(){var t=arguments,e=this;return Object(E["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=!(t.length>0&&void 0!==t[0])||t[0],e.isCollabMode&&(e.currWap.isSaved=s),n.next=4,e.$store.dispatch({type:"saveWap",wap:e.currWap});case 4:e.currWap=n.sent,K.$emit("show-msg",{txt:"Your website has been saved!",type:"success"});case 6:case"end":return n.stop()}}),n)})))()},dropSample:function(t){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch({type:"pickedSample",_id:t.payload._id});case 2:s=n.sent,i=JSON.parse(JSON.stringify(s)),bs.replaceIds(i),t.payload=i,e.dropSection(t);case 7:case"end":return n.stop()}}),n)})))()},saveSample:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currCmpToEdit){e.next=2;break}return e.abrupt("return",console.log("Idan And Matan, stop saving!"));case 2:return e.next=4,t.$store.dispatch({type:"saveSample",sample:t.currWap});case 4:t.sample=e.sent;case 5:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ms.setup(),Ms.on("savedWap",(function(e){t.currWap=e})),e.next=4,t.$store.dispatch({type:"loadSamples"});case 4:if(n=t.$route.params.id,!n){e.next=13;break}return e.next=8,t.$store.dispatch({type:"loadWap",_id:n});case 8:s=e.sent,t.currWap=s,Ms.emit("roomRoute",n),e.next=14;break;case 13:t.currWap={name:"",cmps:[]};case 14:case"end":return e.stop()}}),e)})))()},components:{editorDashboard:Rn,editorWorkspace:rs,toggleEditor:ps,loader:ot,publishModal:En,socketModal:Ct},destroyed:function(){this.isCollabMode&&!this.currWap.isSaved&&(this.$store.commit({type:"setCollabMode",isCollabModeOn:!1}),this.$store.dispatch({type:"deleteWap",wapId:this.currWap._id}))}},As=Ds,Ns=Object(d["a"])(As,Ut,Mt,!1,null,null,null),Vs=Ns.exports,zs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.isLoading?n("loader"):n("wap-list",{attrs:{waps:t.waps},on:{addWap:t.pushEditor}})],1)},Fs=[],qs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wap-container grid"},[n("button",{staticClass:"add-wap-btn btn",on:{click:t.emitAddWap}},[n("i",{staticClass:"fas fa-plus"})]),t._l(t.waps,(function(t){return n("wap-preview",{key:t._id,attrs:{wap:t}})}))],2)},Js=[],Hs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wap-preview text-center"},[n("h3",{staticClass:"wap-title"},[t._v(t._s(t.wap.title))]),n("img",{attrs:{src:t.wap.thumbnail}}),n("div",{staticClass:"wap-prev-controls flex align-center space-around"},[n("router-link",{attrs:{to:"/wap/"+t.wap._id,title:"View Template"}},[n("i",{staticClass:"fas fa-eye"})]),n("router-link",{attrs:{to:"/editor/"+t.wap._id,title:"Edit Template"}},[n("i",{staticClass:"fas fa-pen"})])],1)])},Bs=[],Zs={name:"wap-preview",props:{wap:Object},methods:{enterWap:function(){},enterEditor:function(){}}},Gs=Zs,Ys=Object(d["a"])(Gs,Hs,Bs,!1,null,null,null),Ks=Ys.exports,Xs={name:"wap-list",props:{waps:Array},components:{wapPreview:Ks},methods:{emitAddWap:function(){this.$emit("addWap")}}},Qs=Xs,ti=Object(d["a"])(Qs,qs,Js,!1,null,null,null),ei=ti.exports,ni={name:"wap-gallery",components:{wapList:ei,loader:ot},methods:{pushEditor:function(){this.$router.push("/editor")}},computed:{waps:function(){return this.$store.getters.getWaps},isLoading:function(){return this.$store.getters.isLoading}},created:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadWaps"});case 2:case"end":return e.stop()}}),e)})))()}},si=ni,ii=Object(d["a"])(si,zs,Fs,!1,null,null,null),ri=ii.exports,ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loggedInUser?n("section",{staticClass:"user-details-container"},[n("nav",{staticClass:"user-dashboard"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:t.imgUrl}})]),n("ul",{staticClass:"sidebar-modal-links"},[n("li",[n("i",{staticClass:"fas fa-user-circle"}),t._v(" "+t._s(t.loggedInUser.username))]),n("li",[n("i",{staticClass:"fas fa-envelope"}),t._v(" "+t._s(t.loggedInUser.email)+" ")]),n("li",[n("i",{staticClass:"fas fa-user-circle"}),t._v("Account creation: "+t._s(t.formatTime)+" ")]),n("li",[n("label",{staticClass:"user-input input-file"},[n("i",{staticClass:"fas fa-cloud-upload-alt"}),n("input",{staticClass:"hide",attrs:{type:"file"},on:{change:t.setAvatar}})])])])]),n("div",{staticClass:"main-content-page"},[n("div",{staticClass:"main-head"},[n("h1",[t._v("Welecome back, "+t._s(t.loggedInUser.username))])]),n("div",{staticClass:"tab-conatiner"},[n("button",{on:{click:function(e){return t.toggleTab("messages")}}},[t._v("Messages")]),n("button",{on:{click:function(e){return t.toggleTab("waps")}}},[t._v("Templates")])]),t.ownerWaps?n(t.currTab,{tag:"component",attrs:{waps:t.dataToTransfer}}):t._e()],1)]):t._e()},oi=[],ci=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.waps?n("section",{staticClass:"backoffice-grid-msgs"},t._l(t.waps,(function(e){return n("div",{key:e._id},[n("h1",[t._v(t._s(e.title||"Wap title"))]),t._l(e.reviews,(function(e){return n("ul",{key:e._id,staticClass:"clean-list"},[n("li",{staticClass:"backoffice-card"},[t._m(0,!0),n("p",[t._v("Website Name :"+t._s(e.title||"Webcraft website"))]),n("span",{staticClass:"created-at"},[t._v(t._s(t.formatTime(e.content.createdAt)))]),n("span",[t._v(t._s(e.content.byUser.username)+" Message:")]),n("h1",{staticClass:"msg msg-sender"},[t._v("Message by : "+t._s(e.content.name||"No name"))]),n("p",{staticClass:"msg msg-email"},[t._v("Email: "+t._s(e.content.email||"No name"))]),n("p",{staticClass:"msg msg-sub"},[t._v("Subject: "+t._s(e.content.subject||"No name"))]),n("p",{staticClass:"msg "},[t._v("Message: "+t._s(e.content.message||"No name"))]),n("button",{staticClass:"btn check-website"},[t._v("Check Website")])])])}))],2)})),0):t._e()},li=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn remove-card"},[n("i",{staticClass:"fas fa-times-circle"})])}],ui={name:"backoffice-msg",props:{waps:{type:Array}},methods:{formatTime:function(t){return new Date(t).toLocaleString()}},computed:{},created:function(){}},pi=ui,di=Object(d["a"])(pi,ci,li,!1,null,null,null),mi=di.exports,fi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"user-waps"},[n("h1",[t._v("User waps here")]),n("div",{staticClass:"user-wap-grid"},t._l(t.msgs,(function(e,s){return n("div",{key:s},[t._v(" "+t._s(e.wap.title)+" "),n("img",{attrs:{src:e.wap.thumbnail}})])})),0)])},hi=[],gi={name:"user-waps",props:{msgs:Array}},vi=gi,bi=(n("6d6a"),Object(d["a"])(vi,fi,hi,!1,null,"9b8b361e",null)),Ci=bi.exports,wi={name:"user-profile",data:function(){return{ownerWaps:[],selectedTab:"messages"}},methods:{toggleTab:function(t){this.selectedTab=t},setAvatar:function(t){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fe.uploadImg(t);case 2:return s=n.sent,i=JSON.parse(sessionStorage.getItem("user")),i.imgUrl=s.url,n.next=7,e.$store.dispatch({type:"updateUser",user:i});case 7:e.$router.push("/user/".concat(loggedInUser._id));case 8:case"end":return n.stop()}}),n)})))()},getWapsReviews:function(t){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch({type:"getOwnerWapReviews",userId:t});case 2:s=n.sent,e.ownerWaps=s;case 4:case"end":return n.stop()}}),n)})))()}},computed:{currTab:function(){return"messages"===this.selectedTab?"backoffice-msg":"user-waps"},dataToTransfer:function(){return"messages"===this.selectedTab?this.ownerWaps.filter((function(t){return t.reviews})):this.ownerWaps},loggedInUser:function(){return this.$store.getters.loggedInUser},imgUrl:function(){return this.loggedInUser.imgUrl?this.loggedInUser.imgUrl:"https://robohash.org/2.png"},formatTime:function(){var t=this.loggedInUser.createdAt;return new Date(t).toLocaleString()}},created:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.$route.params.id,n&&t.$store.dispatch({type:"loadLoggedInUser",_userId:n}),Ms.setup(),t.getWapsReviews(n),Ms.on("form-submitted",(function(e){var s=e.title;e._id;t.getWapsReviews(n),K.$emit("show-msg",{txt:"New message received from website:".concat(s),type:"success"})}));case 5:case"end":return e.stop()}}),e)})))()},components:{userWaps:Ci,backofficeMsg:mi}},yi=wi,_i=Object(d["a"])(yi,ai,oi,!1,null,null,null),ki=_i.exports,xi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.wapToShow?n("section",t._l(t.wapToShow.cmps,(function(e){return n("wap-renderer",{key:e._id,attrs:{cmp:e},on:{inputed:t.setInputValue,submit:t.sendReview}})})),1):t._e()},Si=[],Ti=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.name,{tag:"component",staticClass:"render-class",class:t.cmp.class,style:t.cmp.style,attrs:{frameborder:"0",target:"_blank",src:t.urlSrc,info:t.getInfo,allowfullscreen:t.video,"data-key":t.cmp.dataset,placeholder:t.cmp.placeholder},on:{input:t.onInput,submit:t.submitReview,inputed:t.emitInputValue,click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}}},[t._v(" "+t._s(t.cmpTxt)+" "),t.cmp.children?t._l(t.cmp.children,(function(e){return n("wap-renderer",{key:e._id,attrs:{cmp:e},on:{submit:t.submitReview}})})):t._e()],2)},Ei=[],$i={name:"wap-renderer",props:{cmp:{type:Object,required:!0}},data:function(){return{}},computed:{getInfo:function(){if(this.cmp.info)return this.cmp.info.isDraggable=!1,this.cmp.info},name:function(){var t=this.cmp.name;return"txt"===t?"span":"link"===t?"a":"vid"===t?"iframe":t},cmpTxt:function(){return this.cmp.txt||""},urlSrc:function(){return this.cmp.imgUrl?this.cmp.imgUrl:this.cmp.vidUrl?this.convertedUrl:""},convertedUrl:function(){if(this.cmp.vidUrl.includes("?v=")){var t=this.cmp.vidUrl.split("?v=")[1];return"https://www.youtube.com/embed/".concat(t)}return this.cmp.vidUrl},video:function(){return"iframe"===this.cmp.name}},methods:{onClick:function(){"link"===this.cmp.name&&this.sendToLink(),"button"===this.cmp.name&&this.submitReview()},submitReview:function(){this.$emit("submit")},sendToLink:function(){window.open(this.cmp.href)},onInput:function(t){var e=t.target.value,n=t.target.dataset.key;this.$emit("inputed",e,n)},emitInputValue:function(t,e){this.$emit("inputed",t,e)}},components:{googleMap:Jn}},Ii=$i,Oi=Object(d["a"])(Ii,Ti,Ei,!1,null,null,null),Ui=Oi.exports,Mi={name:"wap",data:function(){return{wapToShow:null,inputValue:{}}},methods:{setInputValue:function(t,e){this.inputValue[e]=t},sendReview:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n,s,i,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$store.getters.loggedInUser||"guest",t.inputValue.createdAt=Date.now(),t.inputValue.byUser=n,s={_id:fe.makeId(),content:t.inputValue},t.wapToShow.reviews&&t.wapToShow.reviews.length||(t.wapToShow.reviews=[]),t.wapToShow.reviews.push(s),e.next=8,t.$store.dispatch({type:"saveWap",wap:t.wapToShow});case 8:i=t.$route.params.id,Ms.emit("form-submitted",{_id:i,title:t.wapToShow.title}),K.$emit("show-msg",{txt:"Your details has been saved",type:"success"}),t.inputValue={},r=document.querySelectorAll("input"),r.forEach((function(t){t.value=""})),a=document.querySelector("textArea"),a&&(a.value="");case 16:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.params.id,Ms.setup(),e.next=4,$s.getById(n);case 4:t.wapToShow=e.sent,t.$store.commit({type:"toggleUserSiteOpen"}),document.title=t.wapToShow.title;case 7:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.$store.commit({type:"toggleUserSiteOpen"}),document.title="Webcraft"},components:{wapRenderer:Ui}},Wi=Mi,ji=Object(d["a"])(Wi,xi,Si,!1,null,null,null),Ri=ji.exports,Pi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section")},Li=[],Di={name:"playground",components:{}},Ai=Di,Ni=Object(d["a"])(Ai,Pi,Li,!1,null,null,null),Vi=Ni.exports;s["default"].use(xt["a"]);var zi=[{path:"/",component:Ot},{path:"/editor/:id?",component:Vs},{path:"/wap",component:ri},{path:"/wap/:id",component:Ri},{path:"/user/:id",component:ki},{path:"/playground",component:Vi}],Fi=new xt["a"]({mode:"hash",base:"/",routes:zi}),qi=Fi,Ji=n("2f62"),Hi=null;sessionStorage.user&&(Hi=JSON.parse(sessionStorage.user));var Bi={state:{loggedInUser:Hi},getters:{loggedInUser:function(t){return t.loggedInUser}},mutations:{setUser:function(t,e){var n=e.user;t.loggedInUser=n},setImgUrl:function(t,e){var n=e.imgUrl;t.loggedInUser.imgUrl=n}},actions:{signup:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var s,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,i=e.userCreds,n.next=4,R.signup(i);case 4:r=n.sent,s({type:"setUser",user:r});case 6:case"end":return n.stop()}}),n)})))()},login:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var s,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,i=e.userCreds,n.next=4,R.login(i);case 4:return r=n.sent,s({type:"setUser",user:r}),n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))()},logout:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,R.logout();case 3:n({type:"setUser",user:null});case 4:case"end":return e.stop()}}),e)})))()},loadLoggedInUser:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var s,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,i=e._id,n.next=4,R.getById(i);case 4:r=n.sent,s({type:"setUser",user:r});case 6:case"end":return n.stop()}}),n)})))()},updateUser:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var s,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,i=e.user,n.next=4,R.update(i);case 4:r=n.sent,s({type:"setUser",savedUser:r});case 6:case"end":return n.stop()}}),n)})))()}}},Zi={state:{waps:[]},getters:{getWaps:function(t){return t.waps.map((function(t){var e=t._id,n=t.thumbnail,s=t.title;return{_id:e,thumbnail:n,title:s}}))}},mutations:{setWaps:function(t,e){var n=e.waps;t.waps=n}},actions:{loadWaps:function(t){return Object(E["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n({type:"setIsLoading",isLoading:!0}),e.next=4,$s.query();case 4:s=e.sent,n({type:"setWaps",waps:s}),n({type:"setIsLoading",isLoading:!1});case 7:case"end":return e.stop()}}),e)})))()},loadWap:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e._id,t.next=3,$s.getById(n);case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()},saveWap:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.wap,t.next=3,$s.save(n);case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()},deleteWap:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.commit,s=e.wapId,console.log("deleteing wap in collab mode",s),n.next=5,$s.remove(s);case 5:case"end":return n.stop()}}),n)})))()},getOwnerWapReviews:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var s,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.commit,s=e.userId,n.next=4,$s.query(s);case 4:return i=n.sent,r=i.map((function(t){var e=t.thumbnail,n=t._id,s=t.title,i=t.reviews?t.reviews:"";return{thumbnail:e,_id:n,title:s,reviews:i}})),n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))()}}},Gi={state:{pickedSample:null,samples:[]},getters:{sampleList:function(t){return t.samples.map((function(t){var e=t._id,n=t.type,s=t.thumbnail,i=t.title;return{_id:e,type:n,thumbnail:s,title:i}}))},sampleToAdd:function(t){return t.pickedSample}},mutations:{setPickedSample:function(t,e){t.pickedSample=e},setSamples:function(t,e){var n=e.samples;t.samples=n}},actions:{loadSamples:function(t){return Object(E["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,bs.query();case 3:s=e.sent,n({type:"setSamples",samples:s});case 5:case"end":return e.stop()}}),e)})))()},saveSample:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.commit,n.next=3,bs.save(e);case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},pickedSample:function(t,e){var n=t.commit,s=t.state,i=e._id,r=s.samples.find((function(t){return t._id===i}));return n({type:"setPickedSample",sample:r}),r}}};s["default"].use(Ji["a"]);var Yi=new Ji["a"].Store({strict:!0,state:{isUserSiteclosed:!0,isLoading:!1,isCollabModeOn:!1},getters:{isViewMode:function(t){return!t.isUserSiteclosed},isLoading:function(t){return t.isLoading},isCollabMode:function(t){return t.isCollabModeOn}},mutations:{toggleUserSiteOpen:function(t){t.isUserSiteclosed=!t.isUserSiteclosed},setIsLoading:function(t,e){var n=e.isLoading;t.isLoading=n},setCollabMode:function(t,e){var n=e.isCollabModeOn;t.isCollabModeOn=n}},actions:{},modules:{userStore:Bi,wapStore:Zi,editorStore:Gi}}),Ki=n("5c96"),Xi=n.n(Ki),Qi=n("755e");n("0fae"),n("3ed1");s["default"].use(Xi.a),s["default"].use(Qi,{load:{key:"AIzaSyAb-nOgpqD_gjhW9jUy6raZW06HfTaFhPI",libraries:"places",region:"IL",language:"en"}}),s["default"].config.productionTip=!1,new s["default"]({router:qi,store:Yi,render:function(t){return t(kt)}}).$mount("#app")},"5cc4":function(t,e,n){"use strict";n("8272")},"6a75":function(t,e,n){"use strict";n("3fac")},"6d6a":function(t,e,n){"use strict";n("8915")},"7a9e":function(t,e,n){"use strict";n("0c55")},8272:function(t,e,n){},8915:function(t,e,n){},af84:function(t,e,n){t.exports=n.p+"img/signup-2.562f92f0.svg"},b617:function(t,e,n){t.exports=n.p+"img/temp-hero.88e767da.jpg"},b6ba:function(t,e,n){},be72:function(t,e,n){"use strict";n("55bd")},c1fd:function(t,e,n){"use strict";var s=n("e8d0"),i=n("f23c"),r=n("2877"),a=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},da53:function(t,e){},e8d0:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-input-number",{attrs:{size:"small"},model:{value:t.num3,callback:function(e){t.num3=e},expression:"num3"}})},i=[]},f23c:function(t,e,n){"use strict";var s=n("da53"),i=n.n(s);e["default"]=i.a},f309:function(t,e,n){}});
//# sourceMappingURL=app.1896fa57.js.map